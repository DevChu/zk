<?xml version="1.0" encoding="UTF-8"?>
<!--
B96-ZK-4882.zul

		Purpose:
		
		Description:
		
		History:
				Thu May 13 16:05:39 CST 2021, Created by leon

Copyright (C) 2021 Potix Corporation. All Rights Reserved.

-->
<zk>
	<window apply="org.zkoss.zktest.test2.B96_ZK_4882Composer">
		<custom-attributes composerName="vm"/>
		<label id="msg" value="@bind(vm.message1)"/>
		<tabbox id="outerbox" width="700px" model="@bind(vm.items)">
			<template name="model:tab" >
				<tab label="@load(vm.cat(forEachStatus.index,each.name))" >
				</tab>
			</template>
			<template name="model:tabpanel" var="item" status="s">
				<tabpanel>
					<hlayout>
						<label value="@bind(s.index)"/>
						<label value="@bind(item.name)"/>
					</hlayout>
						<button label="Index" onClick="@command('showIndex', index=s.index, tabbox=outerbox)"/>
						<button label="Delete" onClick="@command('delete', item=item)"/>
						<button label="Add After" onClick="@command('addAfter', item=item)"/>
						<button label="Add Before" onClick="@command('addBefore', item=item)"/>
				</tabpanel>
			</template>
		</tabbox>
		<hlayout>
			<button label="invalidate" onClick="outerbox.invalidate()" />
		</hlayout>
		<label>
			try add or delete these tabs and check the index, the index should be correct.
		</label>
	</window>
</zk>